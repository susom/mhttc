{% load custom_tags %}
<table class="table table-bordered table-responsive" id="projects_table" cellspacing="0">
    <thead>
    <tr>
        <th>Name</th>
        <th>Description</th>
        {% if project|can_view:request %}
            <th>Form Stage 1</th>
            <th>Form Stage 2</th>
            <th>Form Stage 3</th>
        {% endif %}
    </tr>
    </thead>
    <tbody>
    <tr>
        <td><a href="{% url 'view_project_form' project.uuid %}">{{ project.name }}</a></td>
        <td style="white-space: break-spaces">{{ project.description | truncatechars:100 }}</td>
        {% if project|can_view:request %}
            <td><a href="{% url 'edit_form_template' project.uuid project.stage %}">
                <button style="white-space: normal" type="button" class="btn btn-warning" {% if project.stage != 1 %}disabled{% endif %}>
                    Exploratory/Planning Phase
                </button>
            </a></td>
            <td><a href="{% url 'edit_form_template' project.uuid project.stage %}">
                <button style="white-space: normal" type="button" class="btn btn-warning" {% if project.stage != 2 %}disabled{% endif %}>
                    Implementation Phase
                </button>
            </a></td>
            <td><a href="{% url 'edit_form_template' project.uuid project.stage %}">
                <button style="white-space: normal" type="button" class="btn btn-warning" {% if project.stage != 3 %}disabled{% endif %}>Sustainment
                    Phase
                </button>
            </a></td>{% endif %}
    </tr>
    </tbody>
</table>
